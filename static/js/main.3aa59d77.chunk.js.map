{"version":3,"sources":["store/app/actions.ts","store/app/reducers.ts","store/reducers.ts","components/Icons/Icon.tsx","components/City/City.tsx","components/СitiesListPlaceholder/СitiesListPlaceholder.tsx","components/CitiesList/CitiesList.tsx","components/Tip/Tip.tsx","components/Button/Button.tsx","components/CityInput/CityInput.tsx","cities-validation.ts","components/MainPanel/MainPanel.tsx","components/TopPanel/TopPanel.tsx","App.tsx","index.tsx"],"names":["cityInputTextChange","text","type","payload","setTip","tip","initialState","cities","require","resultCities","openedCity","tipText","cityInput","combineReducers","app","state","action","Icon","className","enableBackground","id","version","viewBox","fill","points","stroke","strokeMiterlimit","strokeWidth","xmlns","width","height","d","City","props","cityNumber","cityName","isOpened","useState","cityInfo","setCityInfo","dispatch","useDispatch","useEffect","wikiURL","fetch","then","response","json","data","_data","query","search","shift","snippet","result","DOMParser","parseFromString","firstChild","onClick","textContent","СitiesListPlaceholder","CitiesList","useSelector","window","scrollTo","document","body","scrollHeight","length","map","city","index","key","Tip","Button","children","disabled","citiesValidation","EXCEPTIONS","findCity","playerCity","searchResult","filter","toLowerCase","trim","includes","checkAnswer","answer","getAnswer","getTip","lastCity","lastLetter","citiesOptions","getRandomInt","toUpperCase","min","max","Math","floor","random","CityInput","onSubmit","e","preventDefault","setCities","onChange","target","value","placeholder","MainPanel","TopPanel","App","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunkMiddleware","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3aa59d77.chunk.js","sourcesContent":["import IAction from \"../interfaces\";\r\n\r\nexport const CITY_INPUT_TEXT_CHANGE = 'CITY_INPUT_TEXT_CHANGE';\r\nexport const SET_CITIES = 'SET_CITIES';\r\nexport const SET_OPENED_CITY = 'SET_OPENED_CITY';\r\nexport const CLEAR_CITIES = 'CLEAR_CITIES';\r\nexport const SET_TIP = 'SET_TIP';\r\n\r\nexport const cityInputTextChange = (text: string): IAction => ({\r\n    type: CITY_INPUT_TEXT_CHANGE,\r\n    payload: text\r\n});\r\n\r\nexport const setCities = (cities: Array<string>): IAction => ({\r\n    type: SET_CITIES,\r\n    payload: cities\r\n});\r\n\r\nexport const setOpenedCity = (key: null | number): IAction => ({\r\n    type: SET_OPENED_CITY,\r\n    payload: key\r\n});\r\n\r\nexport const clearCities = (): IAction => ({\r\n    type: CLEAR_CITIES\r\n});\r\n\r\nexport const setTip = (tip: string): IAction => ({\r\n    type: SET_TIP,\r\n    payload: tip\r\n});","import IAction from \"../interfaces\";\r\n\r\nimport { \r\n    CITY_INPUT_TEXT_CHANGE,\r\n    SET_CITIES, SET_TIP,\r\n    CLEAR_CITIES,\r\n    SET_OPENED_CITY\r\n} from \"./actions\";\r\n\r\ninterface IInitialState {\r\n    cities: Array<object>;\r\n    resultCities: Array<string>;\r\n    openedCity: null | number;\r\n    tipText: string;\r\n    cityInput: string;\r\n}\r\n\r\nconst initialState: IInitialState = {\r\n    cities: require(`../../cities/RU.json`),\r\n    resultCities: [],\r\n    openedCity: null,\r\n    tipText: '',\r\n    cityInput: ''\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: IAction) => {\r\n    switch (action.type) {\r\n        case CITY_INPUT_TEXT_CHANGE: {\r\n            return {\r\n                ...state,\r\n                cityInput: action.payload\r\n            }\r\n        }\r\n        case SET_CITIES: {\r\n            return {\r\n                ...state,\r\n                resultCities: [...action.payload]\r\n            }\r\n        }\r\n        case CLEAR_CITIES: {\r\n            return {\r\n                ...state,\r\n                resultCities: []\r\n            }\r\n        }\r\n        case SET_OPENED_CITY: {\r\n            return {\r\n                ...state,\r\n                openedCity: action.payload\r\n            }\r\n        }\r\n        case SET_TIP: {\r\n            return {\r\n                ...state,\r\n                tipText: action.payload\r\n            }\r\n        }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n}","import { combineReducers } from \"redux\";\r\n\r\nimport { appReducer } from \"./app/reducers\";\r\n\r\nexport default combineReducers({\r\n    app: appReducer\r\n});","import React from 'react';\r\n\r\nimport './Icon.css';\r\n\r\ninterface IIcon {\r\n    type: \"collapse\" | \"done\" | \"restart\";\r\n}\r\n\r\nconst Icon: React.FC<IIcon> = ({ type }) => <>\r\n    {\r\n        type === \"collapse\" && <span className=\"collapce-icon\">\r\n            <svg\r\n                enableBackground=\"new 0 0 24 24\"\r\n                id=\"Layer_1\"\r\n                version=\"1.0\"\r\n                viewBox=\"0 0 24 24\"\r\n            >\r\n                <polyline\r\n                    fill=\"none\"\r\n                    points=\"3,15.5 12,6.5 21,15.5\"\r\n                    stroke=\"#000000\"\r\n                    strokeMiterlimit=\"10\"\r\n                    strokeWidth=\"2\"\r\n                />\r\n            </svg>\r\n        </span>\r\n    }\r\n    {\r\n        type === \"done\" && <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n        >\r\n            <path\r\n                fill=\"none\"\r\n                d=\"M0 0h24v24H0z\"\r\n            />\r\n            <path\r\n                d=\"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z\"\r\n            />\r\n        </svg>\r\n    }\r\n    {\r\n        type === \"restart\" && <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"24\"\r\n            height=\"24\"\r\n            viewBox=\"0 0 24 24\"\r\n        >\r\n            <path\r\n                d=\"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c\r\n                -.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z\"\r\n            />\r\n            <path\r\n                d=\"M0 0h24v24H0z\"\r\n                fill=\"none\"\r\n            />\r\n        </svg>\r\n    }\r\n</>\r\n\r\nexport default Icon;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { setOpenedCity } from '../../store/app/actions';\r\n\r\nimport Icon from '../Icons/Icon';\r\n\r\nimport './City.css';\r\n\r\ninterface ICity {\r\n\tcityNumber: number;\r\n\tcityName: string;\r\n\tisOpened: boolean;\r\n}\r\n\r\nconst City: React.FC<ICity> = (props) => {\r\n\tconst { cityNumber, cityName, isOpened } = props;\r\n\tconst [cityInfo, setCityInfo] = useState();\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst handleCollapseClick = () =>  dispatch(setOpenedCity(isOpened === true ? null : cityNumber));\r\n\r\n\tuseEffect(() => {\r\n\t\tconst wikiURL = `https://ru.wikipedia.org/w/api.php?action=query&list=search&prop=info&inprop=url&utf8=&format=json&origin=*&srlimit=20&srsearch=${cityName}`;\r\n\t\tfetch(wikiURL)\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconst _data = `<span>${data.query.search.shift().snippet}</span>`;\r\n\t\t\t\tconst result = new DOMParser().parseFromString(_data, \"text/xml\").firstChild;\r\n\r\n\t\t\t\tsetCityInfo(result);\r\n\t\t\t});\r\n\t}, [cityName])\r\n\r\n\treturn <article className={`city-item ${isOpened && 'city-item__expanded'}`}>\r\n\t\t<section className=\"city-item__top-panel\">\r\n\t\t\t<span className=\"city-item__city-name\">\r\n\t\t\t\t{`${cityNumber}. ${cityName}`}\r\n\t\t\t</span>\r\n\t\t\t<button\r\n\t\t\t\tclassName=\"city-item__open-info-button\"\r\n\t\t\t\tonClick={handleCollapseClick}\r\n\t\t\t>\r\n\t\t\t\t<Icon type=\"collapse\"/>\r\n\t\t\t</button>\r\n\t\t</section>\r\n\t\t{\r\n\t\t\t(isOpened && cityInfo) && <section className=\"city-item__info-panel\">\r\n\t\t\t\t{\r\n\t\t\t\t\t`${cityInfo.textContent}...`\r\n\t\t\t\t}\r\n\t\t\t</section>\r\n\t\t}\r\n\t</article>;\r\n}\r\n\r\nexport default City;\r\n","import React from 'react';\r\n\r\nimport './СitiesListPlaceholder.css';\r\n\r\nconst СitiesListPlaceholder: React.FC = () => <section className=\"cities-list__placeholder\">\r\n    <section className=\"cities-list__placeholder__header\">\r\n        <h2>Список городов пуст.</h2>\r\n    </section>\r\n    <section className=\"cities-list__placeholder__secondary-info\">\r\n        <h3>Введите в поле любой существующий город России, чтобы начать игру.</h3>\r\n    </section>\r\n</section>\r\n\r\nexport default СitiesListPlaceholder;\r\n","import React, { useEffect } from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport City from '../City/City';\r\nimport CitiesListPlaceholder from '../СitiesListPlaceholder/СitiesListPlaceholder';\r\n\r\nimport './CitiesList.css';\r\n\r\nconst CitiesList: React.FC = () => {\r\n\tconst resultCities: Array<string> = useSelector((state: any) => state.app.resultCities);\r\n\tconst openedCity: null | number = useSelector((state: any) => state.app.openedCity);\r\n\r\n\tuseEffect(() => {\r\n\t\twindow.scrollTo(0, document.body.scrollHeight);\r\n\t}, [resultCities]);\r\n\r\n\treturn <>\r\n\t\t{\r\n\t\t\tresultCities.length ? <ul className=\"cities-list\">\r\n\t\t\t{\r\n\t\t\t\tresultCities.map((city, index) => <City\r\n\t\t\t\t\tkey={index}\r\n\t\t\t\t\tcityNumber={index + 1}\r\n\t\t\t\t\tcityName={city}\r\n\t\t\t\t\tisOpened={!!(openedCity === index + 1)}\r\n\t\t\t\t/>)\r\n\t\t\t}\r\n\t\t\t</ul> : <CitiesListPlaceholder/>\r\n\t\t}\r\n\t</>\r\n}\r\n\r\nexport default CitiesList;\r\n","import React from 'react';\r\n\r\nimport './Tip.css';\r\n\r\ninterface ITip {\r\n    tipText: string;\r\n}\r\n\r\nconst Tip: React.FC<ITip> = ({ tipText }) => <h1 className=\"tip-text\">\r\n    {tipText}\r\n</h1>\r\n\r\nexport default Tip;\r\n","import React from 'react';\r\n\r\nimport './Button.css';\r\n\r\ntype ButtonProps = {\r\n    children?: any;\r\n    type?: \"button\" | \"submit\" | \"reset\" | undefined;\r\n    disabled?: boolean;\r\n    onClick?:  any;\r\n}\r\n  \r\nconst Button: React.FC<ButtonProps> = ({children, type, disabled, onClick}) => <button\r\n    className=\"simple-button\"\r\n    type={type}\r\n    disabled={disabled}\r\n    onClick={onClick}\r\n>{children}</button>\r\n\r\nexport default Button;\r\n","import React, { FormEvent } from 'react';\r\n\r\nimport CitiesValidation from '../../cities-validation';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { cityInputTextChange, setCities, setTip, clearCities } from '../../store/app/actions';\r\n\r\nimport Button from '../Button/Button';\r\nimport Icon from '../Icons/Icon';\r\n\r\nimport './CityInput.css';\r\n\r\nconst citiesValidation = new CitiesValidation();\r\n\r\nconst CityInput: React.FC = () => {\r\n\tconst dispatch = useDispatch();\r\n\tconst { cityInput, cities, resultCities } = useSelector((state: any) => state.app);\r\n\t\r\n\tconst handleSubmit = (e: FormEvent) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst playerCity = cityInput;\r\n\t\tif (playerCity === '') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        const result = citiesValidation.findCity(playerCity, cities, resultCities);\r\n        if (result) {\r\n            const { resultCities, tip } = result;\r\n\t\t\tdispatch(setCities(resultCities));\r\n\t\t\tdispatch(setTip(tip));\r\n        }\r\n\t\tdispatch(cityInputTextChange(''));\r\n\t}\r\n\r\n    const handleRestartClick = (): void => {\r\n        dispatch(setTip(''));\r\n        dispatch(clearCities());\r\n    };\r\n\r\n\tconst handleTextChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n\t\tconst { target } = e;\t\r\n\t\tdispatch(cityInputTextChange(target.value));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form \r\n\t\t\tclassName=\"city-input-container\"\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tdisabled={!resultCities.length}\r\n\t\t\t\tonClick={handleRestartClick}\r\n\t\t\t>\r\n\t\t\t\t<Icon type=\"restart\"/>\r\n\t\t\t</Button>\r\n\t\t\t<input\r\n\t\t\t\tclassName=\"city-input-container__input\" \r\n\t\t\t\tonChange={handleTextChange}\r\n\t\t\t\tvalue={cityInput}\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"Введите свой город здесь...\"\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\ttype=\"submit\"\r\n\t\t\t\tdisabled={!cityInput}\r\n\t\t\t>\r\n\t\t\t\t<Icon type=\"done\"/>\r\n\t\t\t</Button>\r\n\t\t</form>\r\n\t);\r\n}\r\n\r\nexport default CityInput;\r\n","export default class CitiesValidation  {\r\n    EXCEPTIONS: Array<string> = [\r\n        'й', 'ь', 'ы', 'ъ'\r\n    ]\r\n\r\n    findCity = (playerCity: string, cities: Array<object>, resultCities: Array<string>) => {\r\n        const searchResult = cities.filter(({ city }: any) => city.toLowerCase().trim() === playerCity.toLowerCase().trim());\r\n\r\n        if (searchResult.length === 0) {\r\n            // return alert(`${UI.errors.cityIsNotFound}`);\r\n            return;\r\n        }\r\n\r\n        const { city }: any = searchResult[0];\r\n\r\n        if (resultCities.includes(city)) {\r\n            // return alert(`${this.UI.errors.cityInList}`);\r\n            return;\r\n        }\r\n\r\n        if (resultCities.length > 0) {\r\n            if (!this.checkAnswer(city, resultCities)) {\r\n                // return alert(`${this.UI.errors.answerIsInvalid}`);\r\n                return;\r\n            }\r\n        }\r\n\r\n        const answer = this.getAnswer(city, cities, resultCities);\r\n\r\n        return {\r\n            resultCities: [\r\n                ...resultCities,\r\n                city,\r\n                answer\r\n            ],\r\n            tip: this.getTip(answer)\r\n        }\r\n    }\r\n\r\n\r\n    checkAnswer = (city: string, resultCities: Array<string>) => {\r\n        const lastCity = resultCities[resultCities.length - 1];\r\n        const shift = (this.EXCEPTIONS.includes(lastCity[lastCity.length - 1])) ? 2 : 1;\r\n\r\n        return city.toLowerCase()[0] === lastCity.toLowerCase()[lastCity.length - shift];\r\n    }\r\n\r\n    getAnswer = (city: string, cities: Array<any>, resultCities: Array<string>) => {\r\n        const shift = (this.EXCEPTIONS.includes(city[city.length - 1])) ? 2 : 1;\r\n        const lastLetter = city[city.length - shift];\r\n\r\n        const citiesOptions: Array<object> = cities.filter(({ city }: any) => city[0].toLowerCase() === lastLetter);\r\n\r\n        while (true) {\r\n            const answer: any = citiesOptions[this.getRandomInt(0, citiesOptions.length)];\r\n            if (!resultCities.includes(answer)) {\r\n                return answer.city;\r\n            }\r\n        }\r\n    }\r\n \r\n    getTip = (city: string) => {\r\n        const shift = (this.EXCEPTIONS.includes(city[city.length - 1])) ? 2 : 1;\r\n        return city[city.length - shift].toUpperCase();\r\n    }\r\n\r\n    getRandomInt = (min: number, max: number) => {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n}","import React from 'react';\r\n\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport CitiesList from '../CitiesList/CitiesList';\r\nimport Tip from '../Tip/Tip';\r\nimport CityInput from '../CityInput/CityInput';\r\n\r\nimport './MainPanel.css';\r\n\r\nconst MainPanel: React.FC = () => {\r\n    const { tipText } = useSelector((state: any) => state.app); \r\n\r\n    return <main className=\"main-panel\">\r\n        {/* HELP BUTTON */}\r\n        <CitiesList />\r\n        {\r\n            tipText && <Tip tipText={tipText}/>\r\n        }\r\n        <CityInput />\r\n    </main>;\r\n}\r\n\r\nexport default MainPanel;\r\n","import React from 'react';\r\n\r\nimport './TopPanel.css';\r\n\r\nconst TopPanel: React.FC = () => <nav className=\"top-panel\">\r\n    <header className=\"top-panel__project-name\">Cities</header>\r\n</nav>\r\n\r\nexport default TopPanel;\r\n","import React from 'react';\r\n\r\nimport MainPanel from './components/MainPanel/MainPanel';\r\nimport TopPanel from './components/TopPanel/TopPanel';\r\n\r\nimport './App.css'\r\n\r\nconst App: React.FC = () => <>\r\n\t<TopPanel/>\r\n\t<MainPanel/>\r\n</>\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { Provider } from 'react-redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport rootReducer from './store/reducers';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tcomposeWithDevTools(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<App />\r\n\t</Provider>, document.getElementById('root')\r\n);"],"sourceRoot":""}